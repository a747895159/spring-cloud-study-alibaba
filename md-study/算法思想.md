
 算法代码随想录： https://programmercarl.com/

# 1.大文件读取排序思想
- **分割+排序**: 从头开始将大文件File的一个小部分读入内存中，将这一小部分进行排序，然后将排序后的这一小部分写入到一个独立的小文件。循环生成一堆有序小文件。
- **多路归并**：将每一个小文件FileX的第一个数取出，即每一个小文件里的最小数，对这些数进行归并排序，将这些数里的最小数字写入大文件maxFail的第一行，此即整个大文件里的最小数字。
       将文件FileX最小数放入内存中，当内存中数据超过一定量时，写入有序的大文件中。
       将文件FileX 行数指针+1，将大文件的行数指针+1。 继续前面的循环，直到所有小文件都遍历完成。

# 2.中间件设计思想       

- 中心化设计：主要分为"领导"和"干活的","领导"负责分发任务和监督，微服务框架Kubernetes就是采用这一设计。
    - 缺点："领导"的安危问题，一旦出现故障，全局系统崩溃。 
    - 解决方案：可以采用主备方案，自动切换提升可用性。

- 去中心化设计,众生地位平等. "去中心化" 不是不要中心，而是由节点自由选择中心。比如 Zookeeper
    - 去中心化设计里最难解决的一个问题是 “脑裂”问题 ，这种情况的发生概率很低，但影响很大。脑裂指一个集群由于网络的故障，被分为至少两个彼此无法通信的单独集群，此时如果两个集群都各自工作，则可能会产生严重的数据冲突和错误。
      一般的设计思路是，当集群判断发生了脑裂问题时，规模较小的集群就“自杀”或者拒绝服务。














