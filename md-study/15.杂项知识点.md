[TOC]
----


# 1. 进程和线程的区别

进程(Process)是操作系统中正在运行的程序实例，每个进程都有自己的独立内存空间、系统资源和打开的文件等。进程之间相互隔离，一个进程的崩溃不会影响其他进程的运行。进程之间可以通过系统调用进行通信和协作。

线程(Thread)是进程中的一个执行单元，它与同一进程中的其他线程共享进程的内存空间和系统资源。多个线程可以同时执行，它们之间相互协作，共享数据和资源。由于线程共享进程的内存空间，因此线程之间的通信和同步比进程之间更加容易。

区别:
- **内存空间** ：进程拥有独立的内存空间，而线程共享同一个进程的内存空间。
- **资源占用** ：进程需要独立的系统资源来运行，如文件句柄、网络连接等。而线程可以共享这些资源，需要考虑线程间的竞争条件和同步问题。
- **通信方式** ：进程之间通信需要通过系统调用进行，而线程之间可以通过共享变量或者消息传递等方式进行通信。
- **创建和销毁开销** ：创建和销毁进程的开销比创建和销毁线程要大得多。


# 2. 说说进程通信方式

进程通信是操作系统提供的一种机制，使得多个进程之间可以交换信息和数据。

##  1.1 进程通信方式：

- **共享内存** ：共享内存是最常见的进程通信方式之一。它允许两个或多个进程共享同一块内存，这样它们就可以访问同一个数据。共享内存通常用于线程间通信，例如在同一个进程中的两个线程之间共享数据。
- **消息传递** ：消息传递是另一种进程通信方式，它允许进程之间交换消息。消息可以是任何类型的数据，包括数字、字符串、结构体等。消息传递通常用于进程间通信，例如在操作系统中的进程调度和同步中使用。
- **共享文件** ：共享文件是一种特殊类型的共享内存，它允许两个或多个进程共享同一个文件。共享文件通常用于文件传输和同步等操作。
- **管道** ：管道是一种特殊类型的共享内存，它允许一个进程将数据写入管道，而另一个进程可以从管道中读取数据。管道通常用于进程间通信，例如在命令行界面中使用管道来将命令和输出传递给其他进程。
- **信号量** ：信号量是一种特殊类型的变量，它允许一个进程在另一个进程中等待或响应。信号量通常用于进程间通信，例如在操作系统中使用信号量来实现进程同步和调度。

## 1.2 安全问题：

**数据泄露、数据篡改、拒绝服务（DoS）、身份伪造**

## 1.3 解决方案：

- 数据加密：使用加密算法AES/RSA.
- 身份认证：使用数字证书(RSA)、身份密码登方式。
- 数据完整性验证：使用数字签名或者MAC方式验证
- 安全协议：采用TLS/SSL,包保护网络安全
- 防重放攻击：使用时间戳、随机数。


# 3. 加解密算法

- **数字信封**:使用非对称秘钥**对方公钥**将`对称秘钥`加密，然后再使用`对称秘钥`将消息进行加密。包含`消息密文`和`密钥密文`组成，‌主要目的是安全地传输对称密钥。‌
- **数字签名**是使用发送方的私钥对消息的哈希值进行散列加密得到的，‌用于确认信息的完整性和发送者的身份。‌

![](https://img2024.cnblogs.com/blog/1694759/202407/1694759-20240729134332754-1099671233.png)


## ①数字签名算法(散列算法)比较

`SHA1` 是和 `MD5` 一样流行的 **消息摘要算法** ，然而 `SHA1` 比 `MD5` 的 **安全性更强** 。对于长度小于 `2 ^ 64` 位的消息，`SHA1` 会产生一个 `160` 位的 **消息摘要** 。
应用在检查 **文件完整性**  以及 **数字签名**  等场景。

| 名称      | 位数    | 安全性  | 速度  |
|---------|-------|------|-----|
| SHA-256 | 256   | 高    | 最慢  |
| SHA-1   | 160   | 中    | 慢   |
| MD5     | 128   | 中低   | 快   |

## ②对称加密算法比较
DES 加密算法是一种 分组密码，以 64 位为 分组对数据 加密，它的 密钥长度 是 56 位，加密解密 用 同一算法。
`AES`采用 **对称分组密码体制**，为了取代 `DES` 的，`AES` 具有更好的 **安全性** 、**效率**  和 **灵活性**。

| 名称 | 密钥名称        | 运行速度 | 安全性 | 资源消耗 |
| ---- | --------------- | -------- | ------ | -------- |
| DES  | 56位            | 较快     | 低     | 中       |
| 3DES | 112位或168位    | 慢       | 中     | 高       |
| AES  | 128、192、256位 | 快       | 高     | 低       |

## ③非对称加密算法比较

**加密速度** 比较慢，适合 **小数据量**  加解密或数据签名。

> RSA加密的最大数据长度受到密钥长度和填充方式的限制。为了加密和解密大数据，需要将数据分段处理。加密和解密时必须保持相同的顺序与填充方式。
> 加密块大小：ENCRYPT_BLOCK_SIZE = (密钥长度 / 8) - 11。11 是 PKCS1 填充方式的开销。
> 解密块大小：DECRYPT_BLOCK_SIZE = 密钥长度 / 8。

| 名称 | 成熟度 | 安全性 | 运算速度 | 资源消耗 |
| ---- | ------ | ------ | -------- | -------- |
| RSA  | 高     | 高     | 中       | 中       |
| ECC  | 高     | 高     | 慢       | 高       |


# 4. Http各版本的区别

- HTTP/1.0
> 引入了请求头和响应头，支持更多的请求方法，如POST、HEAD等。
> 引入了状态码和原因短语，使得客户端可以理解请求的结果。
> 引入了内容协商机制，支持多种数据类型。
> 开始支持持久连接（Keep-Alive），但默认情况下每次请求后关闭连接，除非显式请求保持连接。
> 缺点：无状态特性导致每次请求都需要重新建立连接和认证，效率较低。

- HTTP/1.1（广泛应用）
> 默认使用持久连接，减少了网络连接的开销。
> 引入管道化（pipelining），允许客户端在收到前一个响应之前发送多个请求，但存在队头阻塞问题（即使浏览器可以并发发起多个请求，但每个连接只能处理一个请求。这导致在同一个TCP连接中，一个请求没有完成时，后续请求必须等待，形成了所谓的队首阻塞问题）。
> 增加了HOST头字段，支持虚拟主机。
> 支持分块传输编码，可以边生成边发送响应内容。
> 引入了更多的缓存控制机制和编码方式。
> 支持断点续传和范围请求。

- HTTP/2
> **二进制分帧**，将HTTP消息分割成更小的帧(每个帧都可以独立发送和接收，而不需要等待其他帧)，解决了HTTP/1.1的队头阻塞问题。
> **多路复用**（Multiplexing），在一个TCP连接上可以并行发送多个请求和响应，提高了连接的利用率。
> 服务器推送（Server Push），服务器可以主动向客户端推送资源，减少延迟。
> 头部压缩，减少传输头部信息的大小，提升效率。
> 依然基于TCP，但优化了协议交互，降低了延迟。


400  Bad Request(错误请求)
401  Unauthorized(未授权)
403  Forbidden(禁止访问)
404  Not Found(未找到)
405  Method Not Allowed(不允许使用该方法)
406  Not Acceptable(无法接受)
407  Proxy Authentication Required(要求代理身份验证)
408  Request Timeout(请求超时)
500  Internal Server Error(内部服务器错误)
501  Implemented(未实现)
502  Bad Gateway(网关错误)
503  Service Unavailable(服务不可用)
504  Gateway Timeout (网关超时)
505  HTTP Version Not Supported(HTTP 版本不受支持)

# 6. HTTPS的原理

HTTPS是以安全为目标的HTTP 通道加入 SSL 层，其所用的端口号是 443。所有的证书都是由 CA 机构签发的，CA 机构是一个受信任的第三方机构，它会对证书的申请者进行身份验证，然后签发证书。

UDP 协议是无连接方式的协议，它的效率高，速度快，占资源少，对服务器的压力比较小。但是其传输机制为不可靠传送，必须依靠辅助算法来完成传输控制。`QQ`采用的通信协议以UDP为主，辅TCP协议。
Get请求URL长度：FireFox 中 URL 的最大长度限制是 65536 个字符，Chrome 则是 8182 个字符。

- 1.建立连接获取证书：客户端通过 TCP 和服务器建立连接，并且在握手中过程中请求证书。即客户端发出一个消息给服务器，这个消息里面包含了自己可实现的算法列表和其它一些需要的消息，SSL的服务器端会回应一个数据包，这里面确定了这次通信所需要的算法，然后服务器向客户端返回证书。（证书里面包含了服务器信息：域名。申请证书的公司，公共秘钥）。
- 2.证书验证：Client 在收到服务器返回的证书后，判断签发这个证书的公共签发CA机构，并使用这个机构的公共秘钥确认签名是否有效，客户端还会确保证书中列出的域名就是它正在连接的域名。
- 3.数据加密和传输： 如果确认证书有效，那么客服端生成对称秘钥并使用服务器的公共秘钥进行加密。然后发送给服务器，服务器使用它的私钥对它进行解密。


![](https://img2024.cnblogs.com/blog/1694759/202406/1694759-20240611142805738-251176746.png)

![](https://img2024.cnblogs.com/blog/1694759/202406/1694759-20240611142824654-733571613.png)

![](https://img2024.cnblogs.com/blog/1694759/202407/1694759-20240722095314989-550303276.png)


# 7.TCP三次握手和四次挥手

![](https://img2024.cnblogs.com/blog/1694759/202408/1694759-20240801184432685-590196358.png)


![](https://img2024.cnblogs.com/blog/1694759/202408/1694759-20240801184222452-1145709149.png)

## 为啥四次挥手
关闭连接时，客户端向服务端发送 FIN 时，仅表示客户端不再发送数据了但是还能接收数据。
服务端收到客户端的 FIN 报文时，先回一个 ACK 应答报文。
而服务端可能还有数据需要处理和发送，等服务端不再发送数据时，才发送 FIN 报文给客户端来表示同意现在关闭连接。



# 20.设计模式
- 1. **创建型模式** ：涉及对象实例化，用于创建对象的模式，可以增加程序的灵活性和可重用性。常见的创建型模式有工厂方法、抽象工厂、单例、建造者、原型等。
- 2. **结构型模式** ：涉及类和对象的组合，用于设计类和对象的结构，以便更好地实现程序的功能。常见的结构型模式有适配器、桥接、组合、装饰、外观、享元、代理等。
- 3. **行为型模式** ：关注对象之间的通信，包括责任链、命令、解释器、迭代器、中介者、备忘录、观察者、状态、策略、模板方法、访问者等。

![](https://img2023.cnblogs.com/blog/1694759/202305/1694759-20230531113922003-2048571170.png)

## 1、创建型

![](https://img-blog.csdnimg.cn/c1c0c30f4a5a4864811f4eab6055ac77.png)

![](https://img-blog.csdnimg.cn/c617e618fe2542819939802b1d624934.png)

![](https://img-blog.csdnimg.cn/7e76346546d9448b8552928d426979c3.png)

![](https://img-blog.csdnimg.cn/a033999e45ce4188b36db38c91bc8333.png)

![](https://img-blog.csdnimg.cn/cd31aed183804e66a208a584d132f45c.png)

---

## 2、结构型

![](https://img-blog.csdnimg.cn/cd2d2f9ac5cf4953be5f59a15d56c955.png)

![](https://img-blog.csdnimg.cn/ac87bc94afe44efb83717834245f9e0b.png)

![](https://img-blog.csdnimg.cn/36e78a6419ae492882058929f3d5a8b0.png)

![](https://img-blog.csdnimg.cn/aa7a6f64966d46cd902a9309822c1bc7.png)

![](https://img-blog.csdnimg.cn/32e0d7762a7a491aaabf460ab15538fd.png)

![](https://img-blog.csdnimg.cn/dd20f6fb8a364253bc48beb404d449b4.png)

![](https://img-blog.csdnimg.cn/79f66ffed5644f7b891c4b408ca7a0a6.png)

---

## 3、行为型

![](https://img-blog.csdnimg.cn/e8bc01e4525e46c08117968e502d6ddf.png)

![](https://img-blog.csdnimg.cn/41f392dad44d485c8a7959543043a699.png)  
![](https://img-blog.csdnimg.cn/e453919ce88949d180aac574e79dfa97.png)

![](https://img-blog.csdnimg.cn/73d4fc0785564382ac3b293df04c5bcb.png)

![](https://img-blog.csdnimg.cn/c77484b96aa848fb863b472cd1f3a357.png)

![](https://img-blog.csdnimg.cn/b3ec1aa049194528b725bb716c5bff28.png)

![](https://img-blog.csdnimg.cn/5675a1b8c97c4ad6a08de653645aad21.png)

![](https://img-blog.csdnimg.cn/d839948ba9ac4ef7825a0f52d52f9ab4.png)

![](https://img-blog.csdnimg.cn/641501926747458db5a41c3a7f7713ea.png)

![](https://img-blog.csdnimg.cn/bbcbbc13f9064181ac392b552d59a969.png)

![](https://img-blog.csdnimg.cn/af995ff57d5445af8557af00335f9c67.png)

![](https://img-blog.csdnimg.cn/9673f6ead3ea44618f9259910c0baa40.png)


